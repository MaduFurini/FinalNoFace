<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.75">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="/css/assets/style.css">
        <link rel="stylesheet" href="/css/home/produto.css">
        <link rel="stylesheet" href="/css/home/home.css">
        <link rel="stylesheet" href="/css/home/carrinho.css">

        <title>NoFace | Produto</title>
    </head>
    <%- include('../partials/header.ejs') %>

    <div class="produtoInfo mx-auto flex max-w-[40rem] flex-col items-center divide-gray-200 pt-14 pb-20 md:max-w-[70rem] xl:max-w-[100rem] md:flex-row md:divide-x-2">
      <p class="text-2xl sm:text-3xl font-bold md:hidden">Camiseta Paradise</p>
      <div class="spoilers">
          <img src="<%= produto.img ? produto.img : '/images/default.png' %>" alt="Imagem 1" class="spoiler">
          <img src="/images/tabelaMedidas.png" alt="Imagem 2" class="spoiler" >
      </div>
      <div class="mt-3 md:mt-0 md:w-[40%]">
        <img id="selected-image" src="<%= produto.img ? produto.img : '/images/default.png' %>" alt="" class="mx-auto h-64 sm:h-80 md:h-96 p-2" />
      </div>
      <div class="px-10 md:w-[60%] w-full">
        <p class="hidden text-4xl font-bold md:block"><%= produto.nome %></p>

        <% if (produto.descricao) { %>
            <details class="group mt-12 md:mt-8 text-sm" open>
              <summary class="text-lg font-semibold">Descri√ß√£o</summary>
              <p class="mt-2"><%= produto.descricao %></p>
            </details>
        <% } %>

        <div class="mt-2 md:mt-7 text-center md:text-left">
          <p class="hidden text-4xl font-semibold md:block" aria-hidden="true">
            R$ <%= produto.preco %>
          </p>

          <p id="selected-name" class="mt-4 text-lg font-medium">
            Selecione uma varia√ß√£o
          </p>

          <% if (produto.variacoes && produto.variacoes.length > 0) { %>
            <div class="flex w-fit mx-auto md:mx-0 text-sm md:text-base items-center divide-x-2 divide-gray-500 rounded border border-gray-500 font-semibold">
              <ul class="variacoes flex space-x-2" role="list">
                <% produto.variacoes.forEach(function(variacao) { %>
                  <li
                    class="variacao cursor-pointer p-2 rounded hover:bg-gray-200"
                    data-id="<%= variacao.id %>"
                    data-nome="<%= variacao.nome %>"
                    role="button"
                    tabindex="0"
                    aria-label="Selecionar varia√ß√£o <%= variacao.nome %>"
                  >
                    <p class="variacao-nome"><%= variacao.nome %></p>
                  </li>
                <% }); %>
              </ul>
            </div>

           <p id="error-message" class="text-red-600 text-sm mt-2 hidden">
              Por favor, selecione uma varia√ß√£o antes de adicionar ao carrinho.
            </p>

            <button
              class="btn-add-cart mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
              id="btn-add-cart"
              data-id="<%= produto.id %>"
            >
              Adicionar ao Carrinho
            </button>
          <% } %>
        </div>
      </div>
    </div>

    <button id="open-cart" class="btn-open-cart fixed bottom-5 right-5 p-4 bg-blue-600 text-white rounded-full">
        üõí
    </button>

    <div id="cart-modal" class="cart-modal">
        <div class="cart-modal-content">
            <span id="close-modal" class="close-modal">‚úñ</span>
            <h2 class="cart-title">Carrinho de Compras</h2>
            <ul id="cart-items" class="cart-items">
                <!-- Itens do carrinho v√£o aqui -->
            </ul>
            <div class="cart-footer">
                <button class="btn-clear-cart" id="btn-clear-cart">Limpar Carrinho</button>
                <button class="btn-checkout">Finalizar Compra</button>
            </div>
        </div>
    </div>


    <hr>
    <div class="detalhes mx-auto md:mt-7 px-5 py-2 md:mb-28">
      <h2 class="font-bold">Detalhes t√©cnicos</h2>

      <ul class="list-disc pl-5 mt-4">
        <li>te</li>
      </ul>
    </div>

    <div class="container">
        <div class="content">
            <div class="text">
                <h1>Explore a ess√™ncia urbana em cada detalhe</h1>
                <p>Fortalecendo a autoexpress√£o atrav√©s do estilo e do lifestyle urbano</p>
                <a href="/portfolio" class="btn">Conhe√ßa nosso portf√≥lio</a>
            </div>
            <div class="image-container">
                <img src="/images/homePageModel.png" alt="Modelo 3D" class="image">
            </div>
        </div>
    </div>

    <script src="/js/home/menu.js"></script>
    <script src="/js/home/shop.js"></script>
    <script src="/js/home/carrinho.js"></script>
    <%- include('../partials/footer.ejs') %>
</html>
